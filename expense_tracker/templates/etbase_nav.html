{% block nav %}

<nav class="navbar navbar-expand-md bg-primary bg-gradient navbar-dark mb-lg-1">
  <div class="container-fluid pg-mwidth">
    <a class="navbar-brand fw-bold" href="{% url 'dashboard' %}">ExpenseTracker</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-md-0 mt-2 mt-md-0 d-lg-none">
        <!-- User dropdown menu -->
        <li class="nav-item ps-3 text-white list-unstyled nav-item dropdown">
          <!-- User is logged in dropdown menu -->
          {% if request.user.is_authenticated %}
          <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <i class="fa-solid fa-user fa-sm" id="user-icon"></i> {{user.username}}
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="{% url 'dashboard' %}">Dashboard</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'change_password' %}">Change password</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'logout' %}">Log out</a>
            </li>
          </ul>
          <!-- Guest dropdown menu -->
          {% else %}
          <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            <i class="fa-solid fa-user fa-sm" id="user-icon"></i> Guest
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="{% url 'login' %}">Login</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'signup' %}">Create account</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'reset_password' %}">Forgot password?</a>
            </li>
          </ul>
          {% endif %}
        </li>
        <!-- End user dropdown menu -->
        <!-- Item creation dropdown menu -->
        {% if user.is_authenticated %}
        <li class="nav-item dropdown ps-3 mt-1 mt-md-0">
          <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Add new item
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="{% url 'create_item' %}?mode=Ex">Add new expense</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'create_item' %}?mode=MoEx">
                Add new monthly expense&nbsp;
                <i class="fa-solid fa-repeat fa-xs" style="color: #656565; vertical-align: middle;"></i>
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'create_item' %}?mode=In">Add new income</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'create_item' %}?mode=MoIn">
                Add new monthly income&nbsp;
                <i class="fa-solid fa-repeat fa-xs" style="color: #656565; vertical-align: middle;"></i>
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'create_item' %}?mode=Cat">Add new category</a>
            </li>
          </ul>
        </li>
        <!-- Edit menu -->
        <li class="nav-item dropdown ps-3 mt-1 mt-md-0">
          <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
            aria-expanded="false">
            Edit
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="{% url 'category_dash' %}">Edit/Delete categories</a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'set_currency' %}">Set currency symbol</a>
            </li>
          </ul>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

{% endblock %}