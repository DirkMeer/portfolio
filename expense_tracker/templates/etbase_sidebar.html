{% block sidebar %}

<div class="flex-shrink-0 p-3 m-0 mt-1 pe-5 sidebar" style="width: 100%;">
    <ul class="list-unstyled ps-0">
        {% if request.user.is_authenticated %}
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#home-collapse" aria-expanded="true">
                <i class="fa-solid fa-user fa-sm" id="user-icon"></i>&nbsp;{{user.username}}
            </button>
            <div class="collapse show" id="home-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                    <li>
                        <a class="dropdown-item" href="{% url 'dashboard' %}">
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'change_password' %}">
                            Change password
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'logout' %}">
                            Log out
                        </a>
                    </li>
                </ul>
            </div>
        </li>
        {% else %}
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#home-collapse" aria-expanded="true">
                <i class="fa-solid fa-user fa-sm" id="user-icon"></i>&nbsp;Guest
            </button>
            <div class="collapse show" id="home-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                    <li>
                        <a class="dropdown-item" href="{% url 'login' %}">Login</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'signup' %}">Create account</a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'reset_password' %}">Forgot password?</a>
                    </li>
                </ul>
            </div>
        </li>
        {% endif %}
        {% if request.user.is_authenticated %}
        <li class="border-top my-3"></li>
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#dashboard-collapse" aria-expanded="true">
                Add new item
            </button>
            <div class="collapse show" id="dashboard-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                    <li>
                        <a class="dropdown-item" href="{% url 'create_item' %}?mode=Ex">
                            Add new expense
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'create_item' %}?mode=MoEx">
                            Add new monthly expense&nbsp;
                            <i class="fa-solid fa-repeat fa-xs fa-fix" style="color: #656565;"></i>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'create_item' %}?mode=In">
                            Add new income
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'create_item' %}?mode=MoIn">
                            Add new monthly income&nbsp;
                            <i class="fa-solid fa-repeat fa-xs fa-fix" style="color: #656565;"></i>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'create_item' %}?mode=Cat">
                            Add new category
                        </a>
                    </li>
                </ul>
            </div>
        </li>
        <li class="border-top my-3"></li>
        <li class="mb-1">
            <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#orders-collapse" aria-expanded="true">
                Edit
            </button>
            <div class="collapse show" id="orders-collapse">
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                    <li>
                        <a class="dropdown-item" href="{% url 'category_dash' %}">
                            Edit/Delete categories
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="{% url 'set_currency' %}">
                            Set currency symbol
                        </a>
                    </li>
                </ul>
            </div>
        </li>
        {% endif %} 
    </ul>
</div>

{% endblock %}